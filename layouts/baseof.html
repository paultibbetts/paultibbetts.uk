<!doctype html>
<html lang="en-GB" class="bg-night text-light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      {{- block "title" . -}}
        {{- $site := .Site.Title -}}
        {{- if .Params.page_title -}}
          {{ .Params.page_title }}
        {{- else if .IsHome -}}
          {{ $site }}
        {{- else -}}
          {{- with .Title -}}
            {{ . }}
            -
            {{ $site }}
          {{- else -}}
            {{ $site }}
          {{- end -}}
        {{- end -}}
      {{- end -}}
    </title>
    <meta name="description" content="Blog" />
    {{- with .OutputFormats.Get "rss" -}}
      {{- printf `
        <link rel=%q type=%q href=%q title=%q>` .Rel .MediaType.Type .Permalink site.Title | safeHTML
      -}}
    {{ end }}
    <link rel="alternate" type="text/mf2+html" href="/articles/" title="Articles feed" />
    {{ partial "opengraph.html" . }}
    {{ if hugo.IsProduction }}
      {{ with (templates.Defer (dict "key" "global")) }}
        {{ partial "css.html" . }}
      {{ end }}
    {{ else }}
      {{ partial "css.html" . }}
    {{ end }}
    <link rel="manifest" href="/site.webmanifest" />
    <meta name="fediverse:creator" content="@paultibbetts@indieweb.social" />
  </head>

  <body>
    {{- partial "header.html" . -}}
    <main>
      {{- block "main" . }}{{ end -}}
    </main>
    {{ partial "follow.html" . }}
    {{ partial "footer.html" . }}
  </body>
</html>
